include("include/SOVIETInstructions.txt");
include("include/checkMoney.txt");
include("config.txt");

defineVariable(int, _currentDayOfYear);
defineVariable(int, _lastCheckDayOfYear);
defineVariable(int, _scriptRunning_moneyCheckLowUSD);

defineFunction(main, void)
{
	InitConstants();
	InitConfig();

	while( 1 ? 1)
	{
		Date_GetCurrentDate_D365Y(_currentDayOfYear, _currentDayOfYear);

		if((_currentDayOfYear - _lastCheckDayOfYear) > 5)
		{
			_lastCheckDayOfYear = _currentDayOfYear;

			Script_Exists("moneyCheckLowUSD.txt", _scriptRunning_moneyCheckLowUSD);

			if(!(_scriptRunning_moneyCheckLowUSD ? 1))
			{
				Script_StartNew("moneyCheckLowUSD.txt");
			}
		}

        Script_Sleep(10.0);
	}

	Window_ShowText("Script Ended because of error.");
	
	end();
}